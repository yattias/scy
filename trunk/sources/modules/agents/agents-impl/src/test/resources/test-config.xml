<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"
	default-autowire="byName">


	<!-- <alias name="dispatcher" alias="repository" /> -->
	<alias name="localRepository" alias="repository" />
	<alias name="localMetadataTypeManager" alias="metadataTypeManager" />
	<alias name="localExtensionManager" alias="extensionManager" />



	<bean name="localRepository" class="roolo.cms.repository.mock.MockRepository"
		depends-on="localMetadataTypeManager" init-method="initialise">
		<property name="metadataTypeManager" ref="localMetadataTypeManager" />
		<property name="extensionManager" ref="extensionManager" />
		<!-- <property name="eloStoreDirectory" value="eloStore" /> <property name="storeElosInStoreDirectory" 
			value="true" /> -->
	</bean>

	<bean name="localMetadataTypeManager" class="roolo.elo.MetadataTypeManager"
		factory-method="getInstance">
		<property name="metadataKeys">
			<list>
				<ref bean="uriKey" />
				<ref bean="titleKey" />
				<ref bean="formatKey" />
				<ref bean="dateCreatedKey" />
				<ref bean="dateLastModifiedKey" />
				<ref bean="missionKey" />
				<ref bean="usesRelationKey" />
				<ref bean="authorKey" />
				<ref bean="annotatesRelationKey" />
				<ref bean="descriptionKey" />
				<ref bean="versionKey" />
				<!-- <ref bean="topicScores" /> -->

				<!-- <ref bean="lineCountKey" /> <ref bean="rectangleCountKey" /> <ref 
					bean="ovalCountKey" /> <ref bean="freehandCountKey" /> <ref bean="textCountKey" 
					/> <ref bean="imageCountKey" /> -->
				<ref bean="tagPointerCountKey" />
				<ref bean="nodeLabel" />
				<ref bean="linkLabel" />
				<ref bean="testStringListKey" />
				<ref bean="isVersionOf" />
				<ref bean="isVersionedBy" />
				<ref bean="isForkOf" />
				<ref bean="isForkedBy" />
				<ref bean="keywordsKey" />
				<ref bean="socialTagsKey" />
				<ref bean="thumbnailKey" />
				<ref bean="keywordSentenceHistogram" />
			</list>
		</property>
	</bean>

	<!-- Roolo Keys -->
	<bean name="topicScores" class="roolo.elo.metadata.keys.KeyValueMetadataKey">
		<constructor-arg index="0" value="topicScores" />
		<constructor-arg index="1" value="/agentdata/topics/topicScore" />
		<constructor-arg index="2" value="UNIVERSAL" />
		<constructor-arg index="3" value="LIST" />
		<constructor-arg index="4" ref="defaultEntryValidator" />
	</bean>

	<bean name="keywordSentenceHistogram" class="roolo.elo.metadata.keys.KeyValueMetadataKey">
		<constructor-arg index="0" value="keywordSentenceHistogram" />
		<constructor-arg index="1"
			value="/agentdata/keywordSentenceHistogram/" />
		<constructor-arg index="2" value="UNIVERSAL" />
		<constructor-arg index="3" value="LIST" />
		<constructor-arg index="4" ref="defaultEntryValidator" />
	</bean>

	<bean name="versionKey" class="roolo.elo.metadata.keys.LongMetadataKey">
		<constructor-arg index="0" value="version" />
		<constructor-arg index="1" value="/lom/lifecycle/version" />
		<constructor-arg index="2" value="UNIVERSAL" />
		<constructor-arg index="3" value="SINGLE" />
		<constructor-arg index="4" ref="defaultLongValidator" />
	</bean>

	<bean name="uriKey" class="roolo.elo.metadata.keys.UriMetadataKey">
		<constructor-arg index="0" value="identifier" />
		<constructor-arg index="1" value="/lom/general/identifier" />
		<constructor-arg index="2" value="UNIVERSAL" />
		<constructor-arg index="3" value="SINGLE" />
		<constructor-arg index="4" ref="defaultUriValidator" />
	</bean>
	<bean name="titleKey" class="roolo.elo.metadata.keys.StringMetadataKey">
		<constructor-arg index="0" value="title" />
		<constructor-arg index="1" value="/lom/general/title" />
		<constructor-arg index="2" value="SPECIFIC" />
		<constructor-arg index="3" value="SINGLE" />
		<constructor-arg index="4" ref="defaultStringValidator" />
	</bean>
	<bean name="descriptionKey" class="roolo.elo.metadata.keys.StringMetadataKey">
		<constructor-arg index="0" value="description" />
		<constructor-arg index="1" value="/lom/general/description" />
		<constructor-arg index="2" value="SPECIFIC" />
		<constructor-arg index="3" value="SINGLE" />
		<constructor-arg index="4" ref="defaultStringValidator" />
	</bean>
	<bean name="formatKey" class="roolo.elo.metadata.keys.StringMetadataKey">
		<constructor-arg index="0" value="technicalFormat" />
		<constructor-arg index="1" value="/lom/technical/format" />
		<constructor-arg index="2" value="UNIVERSAL" />
		<constructor-arg index="3" value="SINGLE" />
		<constructor-arg index="4" ref="defaultStringValidator" />
	</bean>
	<bean name="dateCreatedKey" class="roolo.elo.metadata.keys.LongMetadataKey">
		<constructor-arg index="0" value="dateCreated" />
		<constructor-arg index="1"
			value="/lom/technical/customElements/dateCreated" />
		<constructor-arg index="2" value="UNIVERSAL" />
		<constructor-arg index="3" value="SINGLE" />
		<constructor-arg index="4" ref="defaultLongValidator" />
	</bean>
	<bean name="dateLastModifiedKey" class="roolo.elo.metadata.keys.LongMetadataKey">
		<constructor-arg index="0" value="dateLastModified" />
		<constructor-arg index="1"
			value="/lom/technical/customElements/dateLastModified" />
		<constructor-arg index="2" value="UNIVERSAL" />
		<constructor-arg index="3" value="SINGLE" />
		<constructor-arg index="4" ref="defaultLongValidator" />
	</bean>
	<bean name="missionKey" class="roolo.elo.metadata.keys.RelationMetadataKey">
		<constructor-arg index="0" value='mission' />
		<constructor-arg index="1"
			value='/lom/relation/[kind="isbasedon",type="scy/mission"]' />
		<constructor-arg index="2" value="UNIVERSAL" />
		<constructor-arg index="3" value="SINGLE" />
		<constructor-arg index="4" ref="defaultUriValidator" />
	</bean>
	<bean name="usesRelationKey" class="roolo.elo.metadata.keys.RelationMetadataKey">
		<constructor-arg index="0" value='uses' />
		<constructor-arg index="1" value='/lom/relationU/[kind="uses"]' />
		<constructor-arg index="2" value="UNIVERSAL" />
		<constructor-arg index="3" value="LIST" />
		<constructor-arg index="4" ref="defaultUriValidator" />
	</bean>
	<bean name="authorKey" class="roolo.elo.metadata.keys.ContributeMetadataKey">
		<constructor-arg index="0" value='author' />
		<constructor-arg index="1"
			value='/lom/lifecycle/contribute/[kind="author"]' />
		<constructor-arg index="2" value="UNIVERSAL" />
		<constructor-arg index="3" value="LIST" />
		<constructor-arg index="4" ref="defaultContributeValidator" />
	</bean>
	<bean name="annotatesRelationKey" class="roolo.elo.metadata.keys.RelationMetadataKey">
		<constructor-arg index="0" value='annotates' />
		<constructor-arg index="1"
			value='/lom/relationA/[kind="annotates"]' />
		<constructor-arg index="2" value="UNIVERSAL" />
		<constructor-arg index="3" value="SINGLE" />
		<constructor-arg index="4" ref="defaultUriValidator" />
	</bean>
	<bean name="testStringListKey" class="roolo.elo.metadata.keys.StringMetadataKey">
		<constructor-arg index="0" value='testStringList' />
		<constructor-arg index="1" value='/test/list' />
		<constructor-arg index="2" value="SPECIFIC" />
		<constructor-arg index="3" value="LIST" />
		<constructor-arg index="4" ref="defaultStringValidator" />
	</bean>

	<bean name="lineCountKey" class="roolo.elo.metadata.keys.LongMetadataKey">
		<constructor-arg index="0" value="lineCount" />
		<constructor-arg index="1" value="/lom/agentData/draw/lineCount" />
		<constructor-arg index="2" value="UNIVERSAL" />
		<constructor-arg index="3" value="SINGLE" />
		<constructor-arg index="4" ref="defaultLongValidator" />
	</bean>
	<bean name="rectangleCountKey" class="roolo.elo.metadata.keys.LongMetadataKey">
		<constructor-arg index="0" value="rectangleCount" />
		<constructor-arg index="1"
			value="/lom/agentData/draw/rectangleCount" />
		<constructor-arg index="2" value="UNIVERSAL" />
		<constructor-arg index="3" value="SINGLE" />
		<constructor-arg index="4" ref="defaultLongValidator" />
	</bean>
	<bean name="ovalCountKey" class="roolo.elo.metadata.keys.LongMetadataKey">
		<constructor-arg index="0" value="ovalCount" />
		<constructor-arg index="1" value="/lom/agentData/draw/ovalCount" />
		<constructor-arg index="2" value="UNIVERSAL" />
		<constructor-arg index="3" value="SINGLE" />
		<constructor-arg index="4" ref="defaultLongValidator" />
	</bean>
	<bean name="freehandCountKey" class="roolo.elo.metadata.keys.LongMetadataKey">
		<constructor-arg index="0" value="freehandCount" />
		<constructor-arg index="1"
			value="/lom/agentData/draw/freehandCount" />
		<constructor-arg index="2" value="UNIVERSAL" />
		<constructor-arg index="3" value="SINGLE" />
		<constructor-arg index="4" ref="defaultLongValidator" />
	</bean>
	<bean name="textCountKey" class="roolo.elo.metadata.keys.LongMetadataKey">
		<constructor-arg index="0" value="textCount" />
		<constructor-arg index="1" value="/lom/agentData/draw/textCount" />
		<constructor-arg index="2" value="UNIVERSAL" />
		<constructor-arg index="3" value="SINGLE" />
		<constructor-arg index="4" ref="defaultLongValidator" />
	</bean>
	<bean name="imageCountKey" class="roolo.elo.metadata.keys.LongMetadataKey">
		<constructor-arg index="0" value="imageCount" />
		<constructor-arg index="1"
			value="/lom/agentData/draw/imageCount" />
		<constructor-arg index="2" value="UNIVERSAL" />
		<constructor-arg index="3" value="SINGLE" />
		<constructor-arg index="4" ref="defaultLongValidator" />
	</bean>
	<bean name="tagPointerCountKey" class="roolo.elo.metadata.keys.LongMetadataKey">
		<constructor-arg index="0" value="tagPointerCount" />
		<constructor-arg index="1"
			value="/lom/agentData/draw/tagPointerCount" />
		<constructor-arg index="2" value="UNIVERSAL" />
		<constructor-arg index="3" value="SINGLE" />
		<constructor-arg index="4" ref="defaultLongValidator" />
	</bean>

	<bean name="keyword" class="roolo.elo.metadata.keys.StringMetadataKey">
		<constructor-arg index="0" value="keyword" />
		<constructor-arg index="1" value="/lom/general/keyword" />
		<constructor-arg index="2" value="SPECIFIC" />
		<constructor-arg index="3" value="LIST" />
		<constructor-arg index="4" ref="defaultStringValidator" />
	</bean>

	<bean name="size" class="roolo.elo.metadata.keys.LongMetadataKey">
		<constructor-arg index="0" value="size" />
		<constructor-arg index="1" value="/lom/technical/size" />
		<constructor-arg index="2" value="UNIVERSAL" />
		<constructor-arg index="3" value="SINGLE" />
		<constructor-arg index="4" ref="defaultLongValidator" />
	</bean>

	<bean name="nodeLabel" class="roolo.elo.metadata.keys.StringMetadataKey">
		<constructor-arg index="0" value="nodeLabel" />
		<constructor-arg index="1"
			value="/agentdata/conceptmaps/nodeLabel" />
		<constructor-arg index="2" value="UNIVERSAL" />
		<constructor-arg index="3" value="LIST" />
		<constructor-arg index="4" ref="defaultStringValidator" />
	</bean>

	<bean name="linkLabel" class="roolo.elo.metadata.keys.StringMetadataKey">
		<constructor-arg index="0" value="linkLabel" />
		<constructor-arg index="1"
			value="/agentdata/conceptmaps/linkLabel" />
		<constructor-arg index="2" value="UNIVERSAL" />
		<constructor-arg index="3" value="LIST" />
		<constructor-arg index="4" ref="defaultStringValidator" />
	</bean>

	<bean name="isVersionOf" class="roolo.elo.metadata.keys.RelationMetadataKey">
		<constructor-arg index="0" value="isVersionOf" />
		<constructor-arg index="1"
			value='/metadata/lom/relation/[kind="is_version_of"]' />
		<constructor-arg index="2" value="UNIVERSAL" />
		<constructor-arg index="3" value="SINGLE" />
		<constructor-arg index="4" ref="defaultRelationValidator" />
	</bean>

	<bean name="isVersionedBy" class="roolo.elo.metadata.keys.RelationMetadataKey">
		<constructor-arg index="0" value="isVersionedBy" />
		<constructor-arg index="1"
			value='/metadata/lom/relation/[kind="is_versioned_by"]' />
		<constructor-arg index="2" value="UNIVERSAL" />
		<constructor-arg index="3" value="SINGLE" />
		<constructor-arg index="4" ref="defaultRelationValidator" />
	</bean>

	<bean name="isForkOf" class="roolo.elo.metadata.keys.RelationMetadataKey">
		<constructor-arg index="0" value="isForkOf" />
		<constructor-arg index="1"
			value='/metadata/lom/relation/[kind="is_fork_of"]' />
		<constructor-arg index="2" value="UNIVERSAL" />
		<constructor-arg index="3" value="SINGLE" />
		<constructor-arg index="4" ref="defaultRelationValidator" />
	</bean>

	<bean name="isForkedBy" class="roolo.elo.metadata.keys.RelationMetadataKey">
		<constructor-arg index="0" value="isForkedBy" />
		<constructor-arg index="1"
			value='/metadata/lom/relation/[kind="is_forked_by"]' />
		<constructor-arg index="2" value="UNIVERSAL" />
		<constructor-arg index="3" value="SINGLE" />
		<constructor-arg index="4" ref="defaultRelationValidator" />
	</bean>

	<bean name="thumbnailKey" class="roolo.elo.metadata.keys.BinaryKey">
		<constructor-arg index="0" value='thumbnail' />
		<constructor-arg index="1" value='/thumbnail' />
		<constructor-arg index="2" value="UNIVERSAL" />
		<constructor-arg index="3" value="SINGLE" />
		<!-- Should that be tokenized? -->
		<constructor-arg index="4" value="UNTOKENIZED" />
		<constructor-arg index="5" ref="defaultStringValidator" />
	</bean>
	<bean name="socialTagsKey" class="roolo.elo.metadata.keys.SocialTagsMetadataKey">
		<constructor-arg index="0" value='socialTags' />
		<constructor-arg index="1" value='/socialTags' />
		<!-- One SocialTags class containing all tags, language independent -->
		<constructor-arg index="2" value="UNIVERSAL" />
		<constructor-arg index="3" value="SINGLE" />
		<constructor-arg index="4" ref="defaultStringValidator" />
	</bean>
	<bean name="keywordsKey" class="roolo.elo.metadata.keys.KeyValueMetadataKey">
		<constructor-arg index="0" value='keywords' />
		<constructor-arg index="1" value='/keywords' />
		<constructor-arg index="2" value="UNIVERSAL" />
		<constructor-arg index="3" value="LIST" />
		<constructor-arg index="4" ref="defaultStringValidator" />
	</bean>


	<bean name="defaultStringValidator" class="roolo.elo.metadata.value.validators.StringValidator"></bean>

	<bean name="defaultRelationValidator" class="roolo.elo.metadata.value.validators.RelationValidator"></bean>

	<bean name="defaultLongValidator" class="roolo.elo.metadata.value.validators.LongValidator"></bean>

	<bean name="defaultUriValidator" class="roolo.elo.metadata.value.validators.UriValidator"></bean>

	<bean name="defaultContributeValidator"
		class="roolo.elo.metadata.value.validators.ContributeValidator"></bean>

	<bean name="defaultEntryValidator" class="roolo.elo.metadata.value.validators.KeyValueValidator"></bean>

	<bean name="localExtensionManager" class="roolo.cms.repository.mock.MockExtensionManager">
		<property name="extensions">
			<map>
				<entry>
					<key>
						<value>scy/missionmodel</value>
					</key>
					<value>.scymissionmodel</value>
				</entry>
				<entry>
					<key>
						<value>scy/missionspecification</value>
					</key>
					<value>.scymissionspecification</value>
				</entry>
				<entry>
					<key>
						<value>scy/missionmapmodel</value>
					</key>
					<value>.scymissionmapmodel</value>
				</entry>
				<entry>
					<key>
						<value>scy/elotoolconfiguration</value>
					</key>
					<value>.scyelotoolconfiguration</value>
				</entry>
				<entry>
					<key>
						<value>scy/missionruntime</value>
					</key>
					<value>.scymissionruntime</value>
				</entry>
				<entry>
					<key>
						<value>scy/templateelos</value>
					</key>
					<value>.scytemplateelos</value>
				</entry>
				<entry>
					<key>
						<value>scy/runtimesettings</value>
					</key>
					<value>.runtimesettings</value>
				</entry>
				<entry>
					<key>
						<value>scy/drawing</value>
					</key>
					<value>.scydraw</value>
				</entry>
				<entry>
					<key>
						<value>scy/model</value>
					</key>
					<value>.scymodel</value>
				</entry>
				<entry>
					<key>
						<value>scy/dataset</value>
					</key>
					<value>.scydataset</value>
				</entry>
				<entry>
					<key>
						<value>scy/simconfig</value>
					</key>
					<value>.scysimconfig</value>
				</entry>
				<entry>
					<key>
						<value>scy/pds</value>
					</key>
					<value>.scypds</value>
				</entry>
				<entry>
					<key>
						<value>scy/copex</value>
					</key>
					<value>.scycopex</value>
				</entry>
				<entry>
					<key>
						<value>scy/text</value>
					</key>
					<value>.text</value>
				</entry>
				<entry>
					<key>
						<value>scy/image</value>
					</key>
					<value>.jpg</value>
				</entry>
				<entry>
					<key>
						<value>scy/mapping</value>
					</key>
					<value>.scymapping</value>
				</entry>
				<entry>
					<key>
						<value>scy/melo</value>
					</key>
					<value>.melo</value>
				</entry>
				<entry>
					<key>
						<value>scy/url</value>
					</key>
					<value>.url</value>
				</entry>
				<entry>
					<key>
						<value>scy/interview</value>
					</key>
					<value>.scyinterview</value>
				</entry>
				<entry>
					<key>
						<value>scy/video</value>
					</key>
					<value>.video</value>
				</entry>
				<entry>
					<key>
						<value>scy/xproc</value>
					</key>
					<value>.scyxproc</value>
				</entry>
				<entry>
					<key>
						<value>scy/webresourcer</value>
					</key>
					<value>.scywebresourcer</value>
				</entry>
				<entry>
					<key>
						<value>scy/ppt</value>
					</key>
					<value>.ppt</value>
				</entry>
				<entry>
					<key>
						<value>scy/rtf</value>
					</key>
					<value>.rtf</value>
				</entry>
				<entry>
					<key>
						<value>scy/doc</value>
					</key>
					<value>.doc</value>
				</entry>
				<entry>
					<key>
						<value>scy/skp</value>
					</key>
					<value>.skp</value>
				</entry>
				<entry>
					<key>
						<value>scy/studentplanningtool</value>
					</key>
					<value>.studentplan</value>
				</entry>
				<entry>
					<key>
						<value>scy/speedtest</value>
					</key>
					<value>.speedtest</value>
				</entry>
			</map>
		</property>
	</bean>

	<bean name="localEloFactory" class="roolo.elo.JDomBasicELOFactory">
		<constructor-arg index="0" ref="metadataTypeManager" />
	</bean>

</beans>
