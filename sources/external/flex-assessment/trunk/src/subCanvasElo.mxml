<?xml version="1.0" encoding="utf-8"?>
<s:BorderContainer xmlns:fx="http://ns.adobe.com/mxml/2009" 
		 xmlns:s="library://ns.adobe.com/flex/spark" 
		 xmlns:mx="library://ns.adobe.com/flex/mx" width="200" height="230" backgroundColor="{index.THEME_COL}" buttonMode="true" dropShadowVisible="true">
	
	<fx:Script>
		<![CDATA[
			import listeners.SelectCompareEvent;
			import listeners.ToggleEvent;
			
			import mx.collections.ArrayCollection;
			
			[Bindable] public var type:String;
			[Bindable] public var eloid:String;
			[Bindable] public var eloName:String;
			[Bindable] public var thumbnail:String;
			[Bindable] public var myname:String;
			[Bindable] public var createdby:String;
			[Bindable] public var modified:String;
			[Bindable] public var description:String;
			[Bindable] public var glg:ArrayCollection;
			[Bindable] public var slg:ArrayCollection;
			[Bindable] public var reflection:String;
			[Bindable] public var hasBeenSelectedForSubmit:Boolean = false;
			[Bindable] public var hasBeenReflectedOn:Boolean = false;
			[Bindable] public var eloIndex:Number;
			[Bindable] public var percentInquiry:String;
			[Bindable] public var inquiryPic:String;
			
			private function highlightElo(evt:MouseEvent):void {
				this.alpha = .8;
			}
			
			private function unhighlightElo(evt:MouseEvent):void {
				this.alpha = 1;
			}
			
			private function gotoAssessPage(evt:MouseEvent):void {
				var tEvent:ToggleEvent = new ToggleEvent(index.TOGGLE_COMMAND, true);
				tEvent.direction = index.LEFT_DIRECTION;
				tEvent.selecTarget = index.STACK_ELOASSESS_PANEL;
				tEvent.sourcePanel = index.STACK_CATEGORY_PANEL;
				tEvent.eloidToAssess = eloid;
				dispatchEvent(tEvent);
			}

			public function compareCb_changeHandler(event:Event):void {
				var evt:SelectCompareEvent = new SelectCompareEvent(index.SELECT_TO_COMPARE_COMMAND, true);
				evt.clickedElo = this;
				evt.cbSelected = compareCb.selected;
				dispatchEvent(evt);
			}

		]]>
	</fx:Script>
	<s:VGroup id="box" top="5" left="5" right="5" gap="5" mouseChildren="false" mouseOver="highlightElo(event)" mouseOut="unhighlightElo(event)" mouseDown="gotoAssessPage(event)">
		<s:Image source="{thumbnail}" width="100" height="100"/>
		<s:Label width="100%" color="#FFFFFF" text="{resourceManager.getString('resources', 'ELO_NAME')+': '+eloName}" />
		<s:Label width="100%" color="#FFFFFF" text="{resourceManager.getString('resources', 'CREATED_BY')+': '+createdby}"/>
		<s:Label width="100%" color="#FFFFFF" text="{resourceManager.getString('resources', 'CREATED_DATE')+': '+modified}"/>
	</s:VGroup>
	<s:CheckBox id="compareCb" bottom="5" left="5" color="#FFFFFF" chromeColor="{index.THEME_LIGHT}" label="{resourceManager.getString('resources', 'ELO_COMPARE')}" change="compareCb_changeHandler(event)" />
</s:BorderContainer>
