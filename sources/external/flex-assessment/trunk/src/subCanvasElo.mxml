<?xml version="1.0" encoding="utf-8"?>
<s:BorderContainer xmlns:fx="http://ns.adobe.com/mxml/2009" 
		 xmlns:s="library://ns.adobe.com/flex/spark" 
		 xmlns:mx="library://ns.adobe.com/flex/mx" width="200" height="230" backgroundColor="{index.THEME_COL}" buttonMode="true" dropShadowVisible="true" creationPolicy="all">
	
	<fx:Script>
		<![CDATA[
			import flash.utils.clearInterval;
			import flash.utils.setInterval;
			
			import listeners.SelectCompareEvent;
			import listeners.ToggleEvent;
			
			import mx.collections.ArrayCollection;
			import mx.controls.Alert;
			import mx.events.CloseEvent;
			[Bindable] public var uri:String = "";
			[Bindable] public var catname:String = "";
			[Bindable] public var createdby:String = "";
			[Bindable] public var thumbnail:String = "";
			[Bindable] public var fullsize:String = "";
			[Bindable] public var customname:String = "";
			[Bindable] public var modified:String = "";
			[Bindable] public var studentdescription:String = "";
			[Bindable] public var studentglg:ArrayCollection;
			[Bindable] public var studentslg:ArrayCollection;
			[Bindable] public var studentreflection:String = "";
			[Bindable] public var hasbeenselectedforsubmit:Boolean = false;
			[Bindable] public var hasbeenreflectedon:Boolean = false;
			[Bindable] public var studentinquiry:String = "";
			[Bindable] public var inquiryquestion:String = "";
			[Bindable] public var assessed:String = "";
			[Bindable] public var grade:String = "";
			[Bindable] public var assessmentcomment:String = "";
			[Bindable] public var reflectioncomment:String = "";
			[Bindable] public var shouldBeSelected:Boolean = false;
			[Bindable] public var technicalformat:String = "";
			[Bindable] public var rawdataid:String = "";
			[Bindable] public var rawdatatext:String = "";
			[Bindable] public var rawdatathumb:String = "";
			[Bindable] public var rawdatafull:String = "";
			[Bindable] public var rawdatadataset:String = "";
			[Bindable] public var snippeturl:String = "";
			
			[Bindable] private var graphicHighlight:Boolean = false;
			[Bindable] private var alphaValue:Number = .1;
			[Bindable] private var alphaColor:Number = 0xFFFFFF;
			
			public function highLightELO(evt:MouseEvent):void {
				this.alpha = .8;
			}
			
			private function unhighlightElo(evt:MouseEvent):void {
				this.alpha = 1;
			}
			
			private function gotoAssessPage(evt:MouseEvent):void {
				var tEvent:ToggleEvent = new ToggleEvent(index.TOGGLE_COMMAND, true);
				tEvent.direction = index.LEFT_DIRECTION;
				tEvent.selecTarget = index.STACK_ELOASSESS_PANEL;
				tEvent.sourcePanel = index.STACK_CATEGORY_PANEL;
				tEvent.eloidToAssess = uri;
				dispatchEvent(tEvent);
			}

			public function compareCb_changeHandler(event:Event):void {
				var evt:SelectCompareEvent = new SelectCompareEvent(index.SELECT_TO_COMPARE_COMMAND, true);
				evt.clickedElo = this;
				evt.cbSelected = compareCb.selected;
				dispatchEvent(evt);
			}
			
			protected function image1_ioErrorHandler(event:IOErrorEvent):void {
				switch(event.errorID) {
					case 0:
						rawdatathumb = index.NOTHUMB;
						break;
				}
			}

		]]>
	</fx:Script>
	<s:VGroup id="box" top="5" left="5" right="5" gap="5" mouseChildren="false" mouseOver="highLightELO(event)" mouseOut="unhighlightElo(event)" mouseDown="gotoAssessPage(event)">
		<s:Image source="{thumbnail}" width="100" height="100" ioError="image1_ioErrorHandler(event)"/>
		<s:Label width="100%" color="#FFFFFF" text="{resourceManager.getString('resources', 'ELO_NAME')+': '+customname}" />
		<s:Label width="100%" color="#FFFFFF" text="{resourceManager.getString('resources', 'CREATED_BY')+': '+createdby}"/>
		<s:Label width="100%" color="#FFFFFF" text="{resourceManager.getString('resources', 'CREATED_DATE')+': '+modified}"/>
	</s:VGroup>
	<s:CheckBox id="compareCb" selected="{shouldBeSelected}" bottom="5" left="5" color="#FFFFFF" chromeColor="{index.THEME_LIGHT}" label="{resourceManager.getString('resources', 'ELO_COMPARE')}" change="compareCb_changeHandler(event)" />
</s:BorderContainer>
